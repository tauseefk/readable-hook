{"version":3,"file":"index.js","sources":["../src/AbortError.ts","../src/constants.ts","../src/utils/useThrottledCallback.tsx","../src/useIterable.tsx","../src/useReadable.tsx","../src/utils/readableTextStream.ts","../src/useStreamingQuery.tsx","../src/useStreamingMutation.tsx"],"sourcesContent":["export class AbortError extends Error {}\n","export type PrimitiveParam = string | boolean | number;\n\nexport interface HookData<T> {\n  value: T | null;\n  isStreaming: boolean;\n}\n\nexport const DEFAULT_STREAM_DATA = {\n  value: null,\n  isStreaming: false,\n} satisfies HookData<unknown>;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n\n// This utility heavily borrows from react-hookz/useThrottledCallback,\n// The goal was to ensure no dependencies.\n// https://github.com/react-hookz/web/blob/master/src/useValidator/index.ts\n\n// MIT License\n\n// Copyright (c) 2021 react-hookz\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport { DependencyList, useEffect, useMemo, useRef } from 'react';\n\nexport type ThrottledFunction<Fn extends (...args: unknown[]) => unknown> = (\n  ...args: Parameters<Fn>\n) => void;\n\nexport const useThrottledCallback = <Fn extends (...args: unknown[]) => void>(\n  cb: Fn,\n  deps: DependencyList,\n  ms = 500,\n): ThrottledFunction<Fn> => {\n  const timeout = useRef<ReturnType<typeof setTimeout>>(null);\n  const cachedArgs = useRef<Parameters<Fn>>(null);\n\n  useEffect(() => {\n    const currentTimeout = timeout.current;\n    return () => {\n      if (currentTimeout) {\n        clearTimeout(currentTimeout);\n        timeout.current = null;\n      }\n    };\n  }, []);\n\n  return useMemo(() => {\n    const execCbAndSchedule = (args: Parameters<Fn>) => {\n      cachedArgs.current = null;\n      cb(...args);\n\n      timeout.current = setTimeout(() => {\n        timeout.current = null;\n\n        if (cachedArgs.current) {\n          execCbAndSchedule(cachedArgs.current);\n\n          cachedArgs.current = null;\n        }\n      }, ms);\n    };\n\n    const throttledCb = (...args: Parameters<Fn>) => {\n      // execute immediately\n      if (!timeout.current) {\n        execCbAndSchedule(args);\n        return;\n      }\n\n      // cache arguments to be picked up by the next scheduled execution\n      cachedArgs.current = args;\n    };\n\n    return throttledCb;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cb, ms, ...deps]);\n};\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { AbortError } from './AbortError';\nimport { DEFAULT_STREAM_DATA, HookData, PrimitiveParam } from './constants';\nimport { AbortFn, SynchronizeFn } from './types';\nimport { useThrottledCallback } from './utils/useThrottledCallback';\n\n/**\n * Synchronize React state with an Async Iterable.\n * @param {AsyncIterable<T>} asyncGenerator that returns the async iterable to synchronize with state\n * @param {number} delay  time interval between each stream read call\n * @returns a tuple of data retrieved from the stream\nand a mutation trigger function\n */\n// biome-ignore lint/complexity/noUselessTypeConstraint: typescript compiler won't have me\nexport const useIterable = <T extends unknown>(\n  asyncGenerator: (\n    params?: Record<string, PrimitiveParam>,\n    signal?: AbortSignal,\n  ) => Promise<AsyncIterable<T>>,\n  {\n    delay,\n    accumulate,\n    accumulator,\n  }: {\n    delay?: number;\n    accumulate?: boolean;\n    accumulator?: (acc: T | null, curr: T) => T;\n  } = {\n    delay: 500,\n    accumulate: false,\n  },\n): [HookData<T>, SynchronizeFn, AbortFn] => {\n  const frequentlyUpdatedData = useRef<HookData<T>>(DEFAULT_STREAM_DATA);\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  const [{ value, isStreaming }, setData] = useState(\n    frequentlyUpdatedData.current,\n  );\n\n  const throttledUpdateState = useThrottledCallback(\n    () => {\n      setData({\n        ...frequentlyUpdatedData.current,\n      });\n    },\n    [],\n    delay,\n  );\n\n  const abort = useCallback(() => {\n    abortControllerRef.current?.abort();\n  }, []);\n\n  useEffect(() => {\n    return abort;\n  }, [abort]);\n\n  const synchronize = useCallback(\n    async (options?: {\n      params?: Record<string, PrimitiveParam>;\n      onDone?: () => void;\n      signal?: AbortSignal;\n    }) => {\n      // flush state\n      frequentlyUpdatedData.current = DEFAULT_STREAM_DATA;\n\n      try {\n        const response = await asyncGenerator(\n          options?.params,\n          options?.signal, // Pass signal\n        );\n\n        for await (const value of response) {\n          // Check for abort before processing each value\n          if (options?.signal?.aborted) {\n            throw new AbortError('Abort signal received.');\n          }\n\n          frequentlyUpdatedData.current = {\n            isStreaming: true,\n            value:\n              accumulate && accumulator\n                ? accumulator(frequentlyUpdatedData.current.value, value)\n                : value,\n          };\n          throttledUpdateState();\n        }\n\n        frequentlyUpdatedData.current = {\n          ...frequentlyUpdatedData.current,\n          isStreaming: false,\n        };\n\n        throttledUpdateState();\n        options?.onDone?.();\n      } catch (error) {\n        if (\n          (error instanceof DOMException && error.name === 'AbortError') ||\n          error instanceof AbortError\n        ) {\n          frequentlyUpdatedData.current = {\n            ...frequentlyUpdatedData.current,\n            isStreaming: false,\n          };\n          throttledUpdateState();\n          return;\n        }\n        throw error;\n      }\n    },\n    [accumulate, accumulator, asyncGenerator, throttledUpdateState],\n  );\n\n  return [{ value, isStreaming }, synchronize, abort];\n};\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { DEFAULT_STREAM_DATA, HookData, PrimitiveParam } from './constants';\nimport { AbortFn, RuntimeOptions, SynchronizeFn } from './types';\nimport { useThrottledCallback } from './utils/useThrottledCallback';\n\n/**\n * Synchronize React state with a ReadableStream.\n * @param {ReadableStream<T>} streamProducer\n *  readable stream to synchronize with state\n * @param {number} delay\n *  time interval between each stream read call\n * @returns a tuple of data retrieved from the stream\n *  and a mutation trigger function\n */\n\n// biome-ignore lint/complexity/noUselessTypeConstraint: typescript compiler won't have me\nexport const useReadable = <T extends unknown>(\n  streamProducer: (\n    params?: Record<string, PrimitiveParam>,\n    signal?: AbortSignal,\n  ) => Promise<ReadableStream<T>>,\n  {\n    delay,\n    accumulate,\n    accumulator,\n  }: {\n    delay?: number;\n    accumulate?: boolean;\n    accumulator?: (acc: T | null, curr: T) => T;\n  } = {\n    delay: 500,\n    accumulate: false,\n  },\n): [HookData<T>, SynchronizeFn, AbortFn] => {\n  const frequentlyUpdatedData = useRef<HookData<T>>(DEFAULT_STREAM_DATA);\n  const abortControllerRef = useRef<AbortController | null>(null);\n  const [{ value, isStreaming }, setData] = useState(\n    frequentlyUpdatedData.current,\n  );\n\n  const throttledUpdateState = useThrottledCallback(\n    () => {\n      setData({\n        ...frequentlyUpdatedData.current,\n      });\n    },\n    [],\n    delay,\n  );\n\n  const abort = useCallback(() => {\n    abortControllerRef.current?.abort();\n  }, []);\n\n  useEffect(() => {\n    return abort;\n  }, [abort]);\n\n  const synchronize = useCallback(\n    async (options?: RuntimeOptions) => {\n      // flush state\n      frequentlyUpdatedData.current = DEFAULT_STREAM_DATA;\n\n      const response = await streamProducer(options?.params, options?.signal);\n      if (!response) throw new Error('No response from stream.');\n\n      const reader = response.getReader();\n\n      try {\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          const { value, done } = await reader.read();\n\n          if (done) break;\n\n          frequentlyUpdatedData.current = {\n            isStreaming: true,\n            value:\n              accumulate && accumulator\n                ? accumulator(frequentlyUpdatedData.current.value, value)\n                : value,\n          };\n\n          throttledUpdateState();\n        }\n\n        frequentlyUpdatedData.current = {\n          ...frequentlyUpdatedData.current,\n          isStreaming: false,\n        };\n\n        throttledUpdateState();\n        options?.onDone?.();\n      } catch (error) {\n        if (error instanceof Error && error.name === 'AbortError') {\n          // Stream was aborted, reset state\n          frequentlyUpdatedData.current = {\n            ...frequentlyUpdatedData.current,\n            isStreaming: false,\n          };\n          throttledUpdateState();\n          return;\n        }\n        throw error;\n      } finally {\n        reader.releaseLock();\n      }\n    },\n    [accumulate, accumulator, streamProducer, throttledUpdateState],\n  );\n\n  return [{ value, isStreaming }, synchronize, abort];\n};\n","export const readableTextStream = async (\n  path: string,\n  options?: {\n    method: 'GET' | 'POST';\n    mode?: 'cors' | 'no-cors' | 'same-origin';\n    body?: string;\n    headers?: Record<string, string>;\n    signal?: AbortSignal;\n  },\n) => {\n  const response = await fetch(path, options);\n  if (!response.body) throw new Error('No response body found.');\n\n  return response.body.pipeThrough(new TextDecoderStream());\n};\n","import { AbortFn, SynchronizeFn } from './types';\nimport { useReadable } from './useReadable';\nimport { readableTextStream } from './utils/readableTextStream';\n\nexport const useStreamingQuery = (\n  path: string,\n  delay = 500,\n): [{ value: string | null; isStreaming: boolean }, SynchronizeFn, AbortFn] =>\n  useReadable(\n    (_, signal) =>\n      readableTextStream(path, {\n        method: 'GET',\n        signal,\n      }),\n    { delay },\n  );\n","import { PrimitiveParam } from './constants';\nimport { AbortFn, SynchronizeFn } from './types';\nimport { useReadable } from './useReadable';\nimport { readableTextStream } from './utils/readableTextStream';\n\nexport const useStreamingMutation = (\n  path: string,\n  staticParams?: Record<string, PrimitiveParam>,\n  options?: {\n    accumulate?: boolean;\n    delay?: number;\n  },\n): [{ value: string | null; isStreaming: boolean }, SynchronizeFn, AbortFn] =>\n  useReadable(\n    (params?: Record<string, PrimitiveParam>, signal?: AbortSignal) =>\n      readableTextStream(path, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          ...staticParams,\n          ...params,\n        }),\n        signal,\n      }),\n    options,\n  );\n"],"names":["useRef","useEffect","useMemo","useState","useCallback"],"mappings":"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"}